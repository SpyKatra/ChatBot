<html>
<head>
<title>Calls en Attente</title>
<meta http-equiv='refresh' content='10'>
<style>
body { font-family: Arial, sans-serif; }
ul { list-style-type: none; padding: 0; }
li { margin: 5px 0; padding: 10px; border: 1px solid #ccc; background-color: #f9f9f9; display: flex; justify-content: space-between; align-items: center; }
strong { color: #2b2b2b; }
button { padding: 10px 20px; cursor: pointer; background-color: #f44336; color: white; border: none; margin: 10px 0; }
</style>
</head>
<body>
<h1>Messages contenant '!call'</h1>
<button id='deleteButton' onclick='supprimerTousLesMessages()' disabled>Supprimer tous les messages</button>
<ul>
<li><strong>2024-09-25 08:30:29 - NadRoC ::</strong> !call doghouse dead or Alive</li>
<li><strong>2024-09-25 09:20:56 - Xnemesis97436 ::</strong> !call Tales of asgard freya's weeding</li>
<li><strong>2024-09-25 09:46:35 - Xnemesis97436 ::</strong> !call Wild fury and secret</li>
<li><strong>2024-09-25 09:51:06 - jonathanleboss ::</strong> !call crush</li>
<li><strong>2024-09-25 10:06:40 - SpyBot ::</strong> !call cash defense</li>
</ul>

        <script>
        function supprimerTousLesMessages() {
            var xhr = new XMLHttpRequest();
            xhr.open("POST", "http://127.0.0.1:5000/delete_all_messages", true);
            xhr.setRequestHeader("Content-Type", "application/json");

            xhr.onreadystatechange = function() {
                if (xhr.readyState == 4 && xhr.status == 200) {
                    console.log("Tous les messages ont été supprimés.");
                    location.reload();
                } else if (xhr.readyState == 4) {
                    console.log("Erreur lors de la suppression des messages.");
                }
            };

            xhr.send();
        }
        </script>
        </body>
</html>
